<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
	<script src="../../external/jquery.min.js"></script>
	<script src="../../build/snap.min.js" root='../../src'></script>

	<script>
	(function( global ){
		bMoor.constructor.define({
			name : 'Controller',
			namespace : ['test'],
			parent : ['snap','controller','Abstract'],
			require : {
				classes : [ 
					['snap','observer','Map'],
					['snap','observer','Collection']
				]
			},
			controller : {
				className : 'woot',
				actions : {
					'click' : {
						'.row-add' : function( event, controller ){
							controller.addRow();
						}
					}
				}
			},
			properties : {
				addRow : function(){
					this.observer.model.push({
						description : 'sample1',
						label   : 'sample2',
						display : 'sample3'
					});
				},
				_model : function(){
					return [{
						description: 'derp',
						label : 1,
						display : 2
					},{
						description: 'derp2',
						label : 3,
						display : 4
					},{
						description: 'derp3',
						label : 5,
						display : 6
					}];
				}
			}
		});
	}( this ));
	</script>
</head>
<body snap-controller="test.Controller" >
	<table snap-node="snap.node.List" snap-template="temp">
		<tbody>
			<tr>
	            <th>Description</th>
	            <th>Label</th>
	            <th>Display</th>
	            <th>&nbsp;</th>
        	</tr>
        </tbody>
	</table>
	<button class="row-add"> Add Row </button>
	<script id='temp' type='text/html'>
		<tr>
			<td><input snap-node='snap.node.input.Text' type='text' name='description'/></td>
	        <td><input snap-node='snap.node.input.Text'  type='text' name='label'/></td>
	        <td><input snap-node='snap.node.input.Text'  type='text' name='display'/></td>
	        <td><button snap-node='snap.node.input.Button' type='button' name='$remove' value="1">Remove</button></td>
	    </tr>
	</script>
</body>

</html>
